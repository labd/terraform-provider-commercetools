---
# generated by https://github.com/hashicorp/terraform-plugin-docs
page_title: "commercetools_cart_discount Resource - terraform-provider-commercetools"
subcategory: ""
description: |-
  Cart discounts are used to change the prices of different elements within a cart.
  See also the Cart Discount API Documentation https://docs.commercetools.com/api/projects/cartDiscounts
---

# commercetools_cart_discount (Resource)

Cart discounts are used to change the prices of different elements within a cart.

See also the [Cart Discount API Documentation](https://docs.commercetools.com/api/projects/cartDiscounts)

## Example Usage

```terraform
# With target lineItems and discount value relative
resource "commercetools_cart_discount" "my-cart-discount" {
  key = "my-cart-discount-key"
  name = {
    en = "My Discount name"
  }
  description = {
    en = "My Discount description"
  }
  value {
    type      = "relative"
    permyriad = 1000
  }
  predicate = "1=1"
  target {
    type      = "lineItems"
    predicate = "1=1"
  }
  sort_order             = "0.9"
  is_active              = true
  valid_from             = "2020-01-02T15:04:05.000Z"
  valid_until            = "2021-01-02T15:04:05.000Z"
  requires_discount_code = true
  stacking_mode          = "Stacking"
}

# With target customLineItems and discount value fixed
resource "commercetools_cart_discount" "my-cart-discount" {
  key = "my-cart-discount-key"
  name = {
    en = "My Discount name"
  }
  description = {
    en = "My Discount description"
  }
  value {
    type = "fixed"
    money {
      currency_code = "USD"
      cent_amount   = "3000"
    }
    money {
      currency_code = "EUR"
      cent_amount   = "4000"
    }
  }
  predicate = "1=1"
  target {
    type      = "customLineItems"
    predicate = "1=1"
  }
  sort_order             = "0.9"
  is_active              = true
  valid_from             = "2020-01-02T15:04:05.000Z"
  valid_until            = "2021-01-02T15:04:05.000Z"
  requires_discount_code = true
  stacking_mode          = "Stacking"
}

# With target shipping and discount value absolute
resource "commercetools_cart_discount" "my-cart-discount" {
  key = "my-cart-discount-key"
  name = {
    en = "My Discount name"
  }
  description = {
    en = "My Discount description"
  }
  value {
    type = "absolute"
    money {
      currency_code = "USD"
      cent_amount   = "3000"
    }
    money {
      currency_code = "EUR"
      cent_amount   = "4000"
    }
  }
  predicate = "any-predicate"
  target {
    type = "shipping"
  }
  sort_order             = "0.8"
  is_active              = false
  requires_discount_code = false
  stacking_mode          = "StopAfterThisDiscount"
}

# With target multiBuyLineItems and discount value relative
resource "commercetools_cart_discount" "my-cart-discount" {
  key = "my-cart-discount-key"
  name = {
    en = "My Discount name"
  }

  value {
    type      = "relative"
    permyriad = 1000
  }
  predicate = "any-predicate"
  target {
    type                = "multiBuyLineItems"
    predicate           = "1=1"
    trigger_quantity    = "2"
    discounted_quantity = "1"
    max_occurrence      = "1"
    selection_mode      = "MostExpensive"
  }
  sort_order = "0.8"
}

# With target multiBuyCustomLineItems and discount value relative
resource "commercetools_cart_discount" "my-cart-discount" {
  key = "my-cart-discount-key"
  name = {
    en = "My Discount name"
  }

  value {
    type      = "relative"
    permyriad = 1000
  }
  predicate = "any-predicate"
  target {
    type                = "multiBuyCustomLineItems"
    predicate           = "1=1"
    trigger_quantity    = "2"
    discounted_quantity = "1"
    max_occurrence      = "1"
    selection_mode      = "MostExpensive"
  }
  sort_order = "0.8"
}
```

<!-- schema generated by tfplugindocs -->
## Schema

### Required

- `name` (Map of String) [LocalizedString](https://docs.commercetools.com/api/types#localizedstring)
- `predicate` (String) A valid [Cart Predicate](https://docs.commercetools.com/api/projects/predicates#cart-predicates)
- `sort_order` (String) The string must contain a number between 0 and 1. All matching cart discounts are applied to a cart in the order defined by this field. A discount with greater sort order is prioritized higher than a discount with lower sort order. The sort order is unambiguous among all cart discounts
- `value` (Block List, Min: 1, Max: 1) Defines the effect the discount will have. [CartDiscountValue](https://docs.commercetools.com/api/projects/cartDiscounts#cartdiscountvalue) (see [below for nested schema](#nestedblock--value))

### Optional

- `custom` (Block List, Max: 1) (see [below for nested schema](#nestedblock--custom))
- `description` (Map of String) [LocalizedString](https://docs.commercetools.com/api/types#localizedstring)
- `is_active` (Boolean) Only active discount can be applied to the cart
- `key` (String) User-specific unique identifier for a cart discount. Must be unique across a project
- `requires_discount_code` (Boolean) States whether the discount can only be used in a connection with a [DiscountCode](https://docs.commercetools.com/api/projects/discountCodes#discountcode)
- `stacking_mode` (String) Specifies whether the application of this discount causes the following discounts to be ignored
- `target` (Block List, Max: 1) Empty when the value has type giftLineItem, otherwise a [CartDiscountTarget](https://docs.commercetools.com/api/projects/cartDiscounts#cartdiscounttarget) (see [below for nested schema](#nestedblock--target))
- `valid_from` (String)
- `valid_until` (String)

### Read-Only

- `id` (String) The ID of this resource.
- `version` (Number)

<a id="nestedblock--value"></a>
### Nested Schema for `value`

Required:

- `type` (String) Currently supports absolute/relative/giftLineItem

Optional:

- `distribution_channel_id` (String) Channel must have the role ProductDistribution. Optional when value type is giftLineItem
- `money` (Block List) Absolute discount specific fields (see [below for nested schema](#nestedblock--value--money))
- `permyriad` (Number) Relative discount specific fields
- `product_id` (String) ResourceIdentifier of a Product. Required when value type is giftLineItem
- `supply_channel_id` (String) Channel must have the role InventorySupply. Optional when value type is giftLineItem
- `variant_id` (Number) ProductVariant of the Product. Required when value type is giftLineItem

<a id="nestedblock--value--money"></a>
### Nested Schema for `value.money`

Required:

- `cent_amount` (Number) The amount in cents (the smallest indivisible unit of the currency)
- `currency_code` (String) The currency code compliant to [ISO 4217](https://en.wikipedia.org/wiki/ISO_4217)



<a id="nestedblock--custom"></a>
### Nested Schema for `custom`

Required:

- `type_id` (String)

Optional:

- `fields` (Map of String)


<a id="nestedblock--target"></a>
### Nested Schema for `target`

Required:

- `type` (String) Supports lineItems/customLineItems/multiBuyLineItems/multiBuyCustomLineItems/shipping

Optional:

- `discounted_quantity` (Number) MultiBuyLineItems/MultiBuyCustomLineItems target specific fields
- `max_occurrence` (Number) MultiBuyLineItems/MultiBuyCustomLineItems target specific fields
- `predicate` (String) LineItems/CustomLineItems/MultiBuyLineItems/MultiBuyCustomLineItems target specific fields
- `selection_mode` (String) MultiBuyLineItems/MultiBuyCustomLineItems target specific fields
- `trigger_quantity` (Number) MultiBuyLineItems/MultiBuyCustomLineItems target specific fields
